<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kontak - Vela</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Zeyada&display=swap" rel="stylesheet">
  <style>
    body {
      padding-top: 56px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f8f9fa;
      color: #333;
      transition: background-color 0.5s, color 0.5s;
      min-height: 100vh;
    }
    body.dark-mode { background-color: #121212; color: #ddd; }

    h1 {
      font-family: 'Zeyada', cursive;
      font-size: 3rem;
      margin-bottom: 25px;
      color: #2c3e50;
      text-align: center;
      padding-top: 30px;
      transition: color 0.5s;
    }
    body.dark-mode h1 { color: #ddd; }

    /* Simulasi WhatsApp */
    .whatsapp-simulator {
      display: flex;
      justify-content: center;
      margin: 40px auto;
      max-width: 800px;
    }
    .phone-frame {
      width: 320px;
      height: 500px;
      background: #e5ddd5;
      border-radius: 25px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.2);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      transition: background 0.5s;
    }
    body.dark-mode .phone-frame { background: #2d2d2d; }
    .phone-header {
      background: #212529;
      color: white;
      padding: 10px;
      display: flex;
      align-items: center;
    }
    .phone-header .profile-pic {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      margin-right: 10px;
    }
    .contact-info small { color: #b2d8d8; }
    .chat-area {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    .message {
      max-width: 75%;
      padding: 8px 12px;
      border-radius: 7px;
      margin-bottom: 10px;
      font-size: 14px;
      line-height: 1.4;
      transition: background-color 0.5s;
    }
    .received { background: white; align-self: flex-start; }
    body.dark-mode .received { background: #333; color: #eee; }
    .sent { background: #dcf8c6; align-self: flex-end; }
    body.dark-mode .sent { background: #075e54; color: white; }
    .chat-input {
      display: flex;
      padding: 8px;
      background: #f0f0f0;
      transition: background 0.5s;
    }
    body.dark-mode .chat-input { background: #252525; }
    .chat-input input {
      flex: 1;
      padding: 8px;
      border-radius: 20px;
      border: 1px solid #ccc;
      outline: none;
      transition: background 0.5s, border-color 0.5s;
    }
    body.dark-mode .chat-input input { background: #333; border-color: #555; color: #eee; }
    .chat-input button {
      background: #212529;
      color: white;
      border: none;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      margin-left: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .chat-input button:hover { background: #343a40; }

    /* Ikon kontak */
    .contact-icons {
      display: flex;
      justify-content: center;
      gap: 50px;
      margin: 60px auto;
      max-width: 800px;
    }
    .icon-circle {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      transition: all 0.5s ease;
      position: relative;
      overflow: hidden;
      animation: float 4s ease-in-out infinite;
    }
    body.dark-mode .icon-circle {
      background: #333;
      box-shadow: 0 10px 25px rgba(255,255,255,0.1);
    }
    .icon-circle::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(to bottom right, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 60%);
      transform: rotate(30deg);
      transition: all 0.7s ease;
    }
    body.dark-mode .icon-circle::before {
      background: linear-gradient(to bottom right, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 60%);
    }
    .icon-circle:hover::before { left: 100%; top: 100%; }
    .icon-circle img { width: 40px; height: 40px; transition: transform 0.3s ease; }
    .icon-circle:hover { transform: translateY(-10px); }
    .icon-circle:hover img { transform: scale(1.1); }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

    /* Toggle Mode */
    .toggle-switch {
      position: relative;
      width: 70px;
      height: 30px;
      background: #eee;
      border-radius: 30px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.8px;
      transition: background-color 0.3s;
    }
    body.dark-mode .toggle-switch { background: #444; }
    .toggle-switch input { opacity: 0; width: 0; height: 0; position: absolute; }
    .slider {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 24px;
      height: 24px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      transition: transform 0.3s ease;
      z-index: 2;
    }
    input:checked + .slider { transform: translateX(36px); }
    .icons { width: 100%; display: flex; justify-content: space-between; padding: 0 5px; z-index: 1; }
    .icon.sun { color: #f39c12; }
    .icon.moon { color: #999; }
    body.dark-mode .nav-link { color: #ddd !important; }
    body.dark-mode .nav-link.active { color: #0a459c !important; font-weight: 600; }

    /* Flower Scene */
    .flower-scene {
      position: relative;
      height: 350px;
      margin: 60px auto 20px;
      max-width: 920px;
      overflow: hidden;
      border-radius: 16px;
      background: transparent;
    }
    .flower-scene .wave { position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; }
    .flower-scene .sun {
      position: absolute; top: 30px; right: 50px;
      width: 80px; height: 80px;
      background: radial-gradient(circle, #FFD700, #FFA500);
      border-radius: 50%;
      box-shadow: 0 0 30px rgba(255,215,0,0.7);
    }
    .flower-scene .cloud {
      position: absolute; top: 40px; left: 50px;
      width: 120px; height: 60px; background: #fff;
      border-radius: 50px;
      box-shadow: 30px 10px 0 #fff, 60px 0 0 #fff;
    }
    .flower-scene .pot {
      position: absolute; bottom: 60px; left: 50%; transform: translateX(-50%);
      width: 110px; height: 65px; background: #8B4513;
      border-radius: 0 0 20px 20px;
    }
    .flower-scene .stem {
      position: absolute; bottom: 60px; left: 50%;
      width: 8px; height: 0; background: green;
      transform: translateX(-50%);
      transition: height 2s ease;
    }
    .flower-scene .bud {
      position: absolute; bottom: 140px; left: 50%;
      width: 26px; height: 26px; background: green;
      border-radius: 50%;
      transform: translateX(-50%) scale(0);
      transition: transform 1.5s ease;
      z-index: 2;
    }
    .flower-scene .flower {
      position: absolute; bottom: 182px; left: 50%;
      transform: translateX(-50%) scale(0);
      transition: transform 2s ease;
      width: 20px; height: 20px;
    }
    .flower-scene .petal {
      width: 22px; height: 22px; background: pink; border-radius: 50%;
      position: absolute;
    }
    .flower-scene .petal:nth-child(1){ top:-22px; left:0; }
    .flower-scene .petal:nth-child(2){ top:0; left:22px; }
    .flower-scene .petal:nth-child(3){ top:22px; left:0; }
    .flower-scene .petal:nth-child(4){ top:0; left:-22px; }
    .flower-scene .center {
      width: 20px; height: 20px; background: yellow; border-radius: 50%;
      position: absolute; top:0; left:0;
    }
    .flower-scene .can {
      position: absolute; top: 110px; left: 80px;
      width: 64px; height: 42px; background: gray;
      border-radius: 10px; cursor: grab; z-index: 10;
      touch-action: none;
    }
    .flower-scene .can::before {
      content: ''; position: absolute; right: -16px; top: 12px;
      width: 22px; height: 9px; background: gray; border-radius: 5px;
    }
    .flower-scene .water {
      position: absolute; top: 38px; left: 50%;
      width: 6px; height: 12px; background: blue;
      border-radius: 50%;
      opacity: 0;
      transform: translateX(-50%);
      animation: drop 0.5s infinite;
    }
    @keyframes drop { 0%{opacity:1; transform:translate(-50%,0);} 100%{opacity:0; transform:translate(-50%,18px);} }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container">
    <a class="navbar-brand" href="index.html" style="font-family: 'Zeyada', cursive; font-size: 30px;">portofolio</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="profile.html">Profil</a></li>
        <li class="nav-item"><a class="nav-link" href="project.html">Projek</a></li>
        <li class="nav-item"><a class="nav-link active" href="kontak.html">Kontak</a></li>
        <li class="nav-item d-flex align-items-center ms-3">
          <label class="toggle-switch mb-0">
            <input type="checkbox" id="modeToggle" />
            <span class="slider"></span>
            <div class="icons"><span class="icon sun">🌞</span><span class="icon moon">🌙</span></div>
          </label>
        </li>
      </ul>
    </div>
  </div>
</nav>

<main class="container">
  <h1>Kontak Saya</h1>

  <!-- Simulasi WhatsApp -->
  <div class="whatsapp-simulator">
    <div class="phone-frame">
      <div class="phone-header">
        <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" class="profile-pic">
        <div class="contact-info">
          <strong>Vela</strong><br><small>online</small>
        </div>
      </div>
      <div class="chat-area" id="chatArea">
        <div class="message received">Hai! Ada yang bisa aku bantu? 😊</div>
      </div>
      <div class="chat-input">
        <input type="text" id="waMessage" placeholder="Ketik pesan...">
        <button id="sendBtn">➤</button>
      </div>
    </div>
  </div>

  <!-- Icon kontak -->
  <div class="contact-icons">
    <a href="https://instagram.com/vela_r.a" target="_blank" class="icon-circle"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png"></a>
    <a href="https://wa.me/6283866507949" target="_blank" class="icon-circle"><img src="https://cdn-icons-png.flaticon.com/512/3670/3670051.png"></a>
    <a href="mailto:velarynia@gmail.com" class="icon-circle"><img src="https://cdn-icons-png.flaticon.com/512/732/732200.png"></a>
  </div>

  <!-- Flower Animation -->
  <section class="flower-scene">
    <svg class="wave" viewBox="0 0 1440 320" preserveAspectRatio="none">
      <path fill="#87ceeb" fill-opacity="1" d="M0,256L40,245.3C80,235,160,213,240,213.3C320,213,400,235,480,224C560,213,640,171,720,154.7C800,139,880,149,960,154.7C1040,160,1120,160,1200,154.7C1280,149,1360,139,1400,133.3L1440,128L1440,320L0,320Z"></path>
    </svg>
    <div class="sun"></div>
    <div class="cloud"></div>
    <div class="pot">
      <div class="stem"></div>
      <div class="bud"></div>
      <div class="flower">
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="center"></div>
      </div>
    </div>
    <div class="can">
      <div class="water"></div>
    </div>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Simulasi WhatsApp
  const chatArea = document.getElementById('chatArea');

  function scrollChat() {
    chatArea.scrollTop = chatArea.scrollHeight;
  }

  function sendMessage() {
    const input = document.getElementById('waMessage');
    const message = input.value.trim();
    if (!message) return;

    const userMsg = document.createElement('div');
    userMsg.className = 'message sent';
    userMsg.textContent = message;
    chatArea.appendChild(userMsg);
    input.value = '';
    scrollChat();

    // Simpan otomatis
    let chatHistory = JSON.parse(localStorage.getItem('chatHistory') || '[]');
    chatHistory.push({ type: 'sent', text: message });
    localStorage.setItem('chatHistory', JSON.stringify(chatHistory));

    setTimeout(() => {
      const botMsg = document.createElement('div');
      botMsg.className = 'message received';
      botMsg.textContent = 'Pesan kamu sudah kami terima ✅';
      chatArea.appendChild(botMsg);
      chatHistory.push({ type: 'received', text: botMsg.textContent });
      localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
      scrollChat();
    }, 1000);
  }

  document.getElementById('sendBtn').addEventListener('click', sendMessage);
  document.getElementById('waMessage').addEventListener('keydown', e => { if (e.key === 'Enter') sendMessage(); });

  // Load chat history saat reload
  let chatHistory = JSON.parse(localStorage.getItem('chatHistory') || '[]');
  chatHistory.forEach(msg => {
    const div = document.createElement('div');
    div.className = 'message ' + msg.type;
    div.textContent = msg.text;
    chatArea.appendChild(div);
  });
  scrollChat();

  // Toggle dark mode
  const toggle = document.getElementById('modeToggle');
  toggle.addEventListener('change', () => { document.body.classList.toggle('dark-mode'); });

  // Flower grow only on watering
  const stem = document.querySelector('.stem');
  const bud = document.querySelector('.bud');
  const flower = document.querySelector('.flower');
  const can = document.querySelector('.can');
  const water = document.querySelector('.water');

  function growFlower() {
    stem.style.height = '80px';
    bud.style.transform = 'translateX(-50%) scale(1)';
    setTimeout(() => { flower.style.transform = 'translateX(-50%) scale(1)'; }, 1500);
  }

  can.addEventListener('click', () => {
    // Water animation
    water.style.opacity = 1;
    setTimeout(() => { water.style.opacity = 0; }, 500);
    // Grow flower
    growFlower();
  });
</script>

</body>
</html>
